{{define "cp_moderation"}}

{{template "cp_head" .}}
<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Moderation Tools</h1>
        <p>Moderations tools to help moderate the server</p>
    </div>
    <!-- /.col-lg-12 -->
</div>
{{template "cp_alerts" .}}
<!-- /.row -->
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Moderation command settings
            </div>
            <div class="panel-body">
                <form role="form" method="post" action="">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Channel to announce bans and kicks through the bot in</label>
                                <select class="form-control" name="action_channel">
                                {{$selected := .ModConfig.ActionChannel}}
                                <option value="" {{if eq $selected ""}} selected{{end}}>Same as command was sent in</option>
                                {{mTemplate "channel_options" "Channels" .ActiveGuild.Channels "Selected" $selected}}
                                </select>
                            </div>
                            <div class="checkbox">
                              <label>
                                <input type="checkbox" name="ban_enabled" {{if .ModConfig.BanEnabled}} checked{{end}}>
                                Ban command enabled<br/>
                                <code>(mention or prefix) ban @user some reason</code><br/>
                                Only users with ban permission can use this.<br/>
                                The ban commnad will ban a user as well as sending a message that the user was banned in the action channel.
                              </label>
                            </div>
                            <div class="checkbox">
                              <label>
                                <input type="checkbox" name="kick_enabled" {{if .ModConfig.KickEnabled}} checked{{end}}>
                                Kick command enabled<br/>
                                <code>(mention or prefix) kick @user some reason</code><br/>
                                Only users with kick permission can use this.<br/>
                                Same as ban command but kicks instead
                              </label>
                            </div>
                            <div class="checkbox">
                              <label>
                                <input type="checkbox" name="kick_delete_messages" {{if .ModConfig.DeleteMessagesOnKick}} checked{{end}}>
                                Delete the users last 100 messages on kick<br/>
                              </label>
                            </div>
                            {{$muteRole := .ModConfig.MuteRole}}
                            <div class="form-group">
                                <label for="MuteRole">Mute role</label>
                                <select class="form-control" name="mute_role">
                                    <option value="" {{if eq $muteRole ""}} selected{{end}}>None</option>
                                    {{mTemplate "role_options" "Roles" .ActiveGuild.Roles "Selected" $muteRole "Highest" .HighestRole}}
                                </select>
                                <p class="help-block">You have to set up the role yourself so that people with it cannot talk in any channels</p>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Channel to send messages for the mods/admins in (reports and such)</label>
                                <select class="form-control" name="report_channel">
                                {{$selected := .ModConfig.ReportChannel}}
                                <option value="" {{if eq $selected ""}} selected{{end}}>Default Channel</option>
                                {{mTemplate "channel_options" "Channels" .ActiveGuild.Channels "Selected" $selected}}
                                </select>
                            </div>
                            <div class="checkbox">
                              <label>
                                <input type="checkbox" name="report_enabled" {{if .ModConfig.ReportEnabled}} checked{{end}}>
                                Report command enabled<br/>
                                <code>(mention or prefix) report @user some reason</code><br/>
                                Everyone can use this.<br/>
                                Report will upload a log of the last 100 messages in the channel and send a message about it in the report channel.
                              </label>
                            </div>
                            <div class="checkbox">
                              <label>
                                <input type="checkbox" name="clean_enabled" {{if .ModConfig.CleanEnabled}} checked{{end}}>
                                Clean command enabled<br/>
                                <code>(mention or prefix) clean NUM {@user <- optional}</code><br/>
                                Manage Messages permissions is required for this command.<br/>
                                Clean deletes up to a 1000 messages back in history. (max 100 messages at a time)
                              </label>
                            </div>
                            <div class="checkbox">
                              <label>
                                <input type="checkbox" name="mute_enabled" {{if .ModConfig.MuteEnabled}} checked{{end}}>
                                Mute/Unmute command enabled<br/>
                                <code>(mention or prefix) mute/unmute @user (duration in minutes) (reason)</code><br/>
                                Only users with kick permission can use this.<br/>
                                The mut/unmute command assigns/removes a role to a user for a certain number of minutes.
                              </label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Kick DM (Leave empty for default)</label>
                                <textarea class="form-control" rows="3" name="kick_message">{{.ModConfig.KickMessage}}</textarea>
                                <p class="help-block">Available template data is {{template "template_helper_user"}} and <code>{{"{{"}}.Reason{{"}}"}}</code> - The reason specified in the ban/kick</p>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Ban DM (Leave empty for default)</label>
                                <textarea class="form-control" rows="3" name="ban_message">{{.ModConfig.BanMessage}}</textarea>
                                <p class="help-block">Available template data is {{template "template_helper_user"}} and <code>{{"{{"}}.Reason{{"}}"}}</code> - The reason specified in the ban/kick</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            {{template "template_help"}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <button type="submit" class="btn btn-primary btn-lg btn-block">Save</button>   
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->            

{{template "cp_footer" .}}

{{end}}